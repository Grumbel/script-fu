<!DOCTYPE html>
<html lang="en-US">
<head>
<meta name="google-site-verification" content="5RrDcjhuAXqZJqzM2NzW-KAzEAR55pAlQ5eDI7KtA1E" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="http://translate.coupofy.com/xmlrpc.php">

<title>Script-fu Seminár | Coupofy Translations</title>
<meta name='robots' content='noindex,follow' />
<link rel="alternate" type="application/rss+xml" title="Coupofy Translations &raquo; Feed" href="http://translate.coupofy.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Coupofy Translations &raquo; Comments Feed" href="http://translate.coupofy.com/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/translate.coupofy.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.2"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='cleanead-googlefont-css'  href='http://fonts.googleapis.com/css?family=Open+Sans%3A700%2C400%7CNoto+Serif%3A400%2C700&#038;ver=4.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='cleanead-style-css'  href='http://translate.coupofy.com/wp-content/themes/wimple/style.css?ver=4.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='cleanead-main-style-css'  href='http://translate.coupofy.com/wp-content/themes/wimple/css/wimple.css?ver=4.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='cleanead-responsive-css'  href='http://translate.coupofy.com/wp-content/themes/wimple/css/responsive.css?ver=4.2.2' type='text/css' media='all' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://translate.coupofy.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://translate.coupofy.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='APOE-4: почему диеты с низким содержанием жиров и статины могут стать причиной болезни Альцгеймера' href='http://translate.coupofy.com/apoe-4-the-clue-to-why-low-fat-diet-and-statins-may-cause-alzheimers/' />
<meta name="generator" content="WordPress 4.2.2" />
<link rel='canonical' href='http://translate.coupofy.com/script-fu-seminar/' />
<link rel='shortlink' href='http://translate.coupofy.com/?p=814' />
<meta name="robots" content="noindex, nofollow" />

	<style type="text/css">
		a, a:active, a:focus, a:visited {
			color: #2980b9;
		}
		.site-header,
		.main-navigation ul ul,
		.widget-title,
		.more-link,
		.site-footer {
			background: #2980b9; /* Nephritis */
		}	
		.main-navigation .nav-menu li a:hover,
		.more-link:hover,
		.main-navigation .nav-menu .current_page_item > a, 
		.main-navigation .nav-menu .current-menu-item > a, 
		.main-navigation .nav-menu .current_page_ancestor > a {
			background: #3498db;
		}
		.nav-previous a,
		.nav-next a
		{
			color: #2980b9;
		}
		.entry-title a {
			color: #333333;
		}
		.entry-meta a {
			color: #ababab;
		}
		a:hover,
		.nav-previous a:hover,
		.entry-title a:hover,
		.widget > ul > li a:hover,
		.entry-footer a:hover,
		.entry-meta a:hover,
		.nav-next a:hover,
		.site-footer a:hover {
			color: #3498db;
		}
		.blog .nav-previous a,
		.blog .nav-next a {
			background: #3498db;
			border-bottom: 4px solid #2980b9;
		}
		.site-footer a,
		.site-footer-widget a:hover,
		.blog .nav-previous a:hover,
		.blog .nav-next a:hover {
			color: #ffffff;
		}
	</style>

</head>

<body class="single single-post postid-814 single-format-standard">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<header id="masthead" class="site-header" role="banner">
		<div class="header-content clear">
			<div class="site-branding">
									<h1 class="site-title logo">
						<a href="http://translate.coupofy.com/" rel="home" title="Translating webpages to other languages">
							<img src="http://translate.coupofy.com/wp-content/uploads/2015/05/logo.png" alt="Translating webpages to other languages" />
						</a>
					</h1>
							</div><!-- .site-branding -->

			<nav id="site-navigation" class="main-navigation" role="navigation">
				<div class="menu-toggle-wrapper">
					<button class="menu-toggle" aria-controls="menu" aria-expanded="false">Menu</button>
				</div>
				<div class="menu-main-container"><ul id="menu-main" class="menu nav-menu clear"><li id="menu-item-704" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-704"><a href="http://translate.coupofy.com/">Why Do We Translate?</a></li>
</ul></div>			</nav><!-- #site-navigation -->
		</div>
	</header><!-- #masthead -->

	<div id="content" class="site-content">
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-814" class="post-814 post type-post status-publish format-standard hentry category-english-to-slovak">
	<header class="entry-header">
		<h1 class="entry-title">Script-fu Seminár</h1>
		<div class="entry-meta">
			<span class="byline">By <span class="author vcard"><a class="url fn n" href="http://translate.coupofy.com/author/admin/">Coupofy USA</a></span></span><span class="posted-on"> on <a href="http://translate.coupofy.com/script-fu-seminar/" rel="bookmark"><time class="entry-date published updated" datetime="2015-05-27T11:44:33+00:00">May 27, 2015</time></a></span>			<span class="cat-links">in <a href="http://translate.coupofy.com/category/english-to-slovak/" rel="category tag">English to Slovak</a></span>		</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

	<div class="entry-content">
		<h1>Obsah</h1>
<p><a href="#Predhovor">Predhovor</a><br />
<a href="#Úvod">Úvod</a><br />
<a href="#Prvý krok na ceste k Script-Fu">Prvý krok na ceste k Script-Fu</a><br />
<a href="#Zopakovanie krokov v Script-Fu Console">Zopakovanie krokov v Script-Fu Console</a><br />
<a href="#Zapísanie Script-Fu">Zapísanie Script-Fu</a><br />
<a href="#Bežné nástrahy">Bežné nástrahy</a><br />
<a href="#Návratové hodnoty">Návratové hodnoty</a><br />
<a href="#Dodržanie R5SR">Dodržanie R5SR</a><br />
<a href="#Vyladenie (debugging)">Vyladenie (debugging)</a><br />
<a href="#Veci, ktoré nemôžeš v Script-Fu urobiť">Veci, ktoré nemôžeš v Script-Fu urobiť</a><br />
<a href="#Príklad">Príklady</a><br />
<a href="#Odkazy">Odkazy</a><br />
<a href="#Protokol zmien">Protokol zmien</a></p>
<h2><a name="Predhovor"></a>Predhovor</h2>
<p>Nasledujúci seminár je napísaný pre <strong>The Gimp 1.1.24</strong>. Niektoré veci, ktoré sú tu popísané nebudú fungovať, alebo budú fungovať inak ako v The Gimp 1.0.x.</p>
<h2><a name="Úvod"></a>Úvod</h2>
<p>Toto je krátky seminár o programovaní v Script-Fu. Pokúsim sa podať krátke info o svete Script-Fu a vysvetliť, ako tu pracujú základné veci. Postupne krok za krokom spolu vytvoríme kompletný script-fu program. Cieľom je dostať Script-Fu, ktoré produkuje text s kovovým štýlom. Domnievam sa, že čitateľ má základné znalosti o Scheme, čo je programovací jazyk použitý v Script-Fu</p>
<h2><a name="Prvý krok na ceste k Script-Fu"></a>Prvý krok na ceste k Script-Fu</h2>
<p>Ok, teraz spravíme prvý krok: to čo chceme urobiť v Script-Fu sa pokúsime najprv normálne urobiť v The Gimpl. Toto je dôležité, lebo potrebujeme presne vedieť, aké operácie potrebujeme  a v akom poradí ich budeme volať.</p>
<p>Takže vytvorme náš testovací obrázok. Najprv vytvoríme nový rgb obrázok (File (súbor) -&gt;New Image (nový obrázok)) a vložíme do neho nejaký text , povedzme napr. &#8220;Test&#8221;.</p>
<p><a href="http://translate.coupofy.com/wp-content/uploads/2015/05/step1.jpg"><img class=" size-full wp-image-822 alignnone" src="http://translate.coupofy.com/wp-content/uploads/2015/05/step1.jpg" alt="step1" width="128" height="56" /></a></p>
<p>Potom zduplikujeme text a aplikujeme kovový gradient na vrchnú vrstvu.</p>
<p><a href="http://translate.coupofy.com/wp-content/uploads/2015/05/step2.jpg"><img class=" size-full wp-image-823 alignnone" src="http://translate.coupofy.com/wp-content/uploads/2015/05/step2.jpg" alt="step2" width="121" height="48" /></a></p>
<p>Potom trochu zväčšíme druhú vrstvu textu. Na to použijeme funkciu alpha-to-selection a zväčšíme výber o pár pixelov. Potom vyplníme výber s rovnakým gradientom, ale s opačnou orientáciou.</p>
<p><a href="http://translate.coupofy.com/wp-content/uploads/2015/05/step3.jpg"><img class=" size-full wp-image-825 alignnone" src="http://translate.coupofy.com/wp-content/uploads/2015/05/step3.jpg" alt="step3" width="127" height="54" /></a></p>
<p>Nakoniec spojíme vrstvy a aplikujeme štandardné padajúce tieňovanie. Ak je toto hotové, orežeme obrázok, aby sme odstránili všetky nepotrebné časti.</p>
<p><a href="http://translate.coupofy.com/wp-content/uploads/2015/05/step4.jpg"><img class=" size-full wp-image-824 alignnone" src="http://translate.coupofy.com/wp-content/uploads/2015/05/step4.jpg" alt="step4" width="151" height="76" /></a></p>
<h2><a name="Zopakovanie krokov v Script-Fu Console"></a>Zopakovanie krokov v Script-Fu Console</h2>
<p>Ok: obrázok teraz vyzerá tak, ako sme chceli, takže si to všetko zosumarizujme:</p>
<ol>
<li>Vytvoriť nový obrázok</li>
<li>Vytvoriť textovú vrstvu</li>
<li>Zduplikovať textovú vrstvu</li>
<li>Rozšíriť spodnú textovú vrstvu</li>
<li>Vyplniť obidve vrstvy s gradientom</li>
<li>Spojiť textové vrstvy</li>
<li>Aplikovať padajúci tieň</li>
<li>Spojiť všetky vrstvy</li>
<li>Orezať obrázok</li>
</ol>
<p>A teraz budeme mať za úlohu zopakovať všetky tieto kroky v <strong>Script-Fu Console</strong>: kde môžeš vložiť príkazy Script-Fu a testovať ich. Použi Console na testovanie všetkých nových funkcií ktoré chceš aplikovať; v Console môžeš viacmenej vyladiť svoje skripty. Je jednoduchšie ak testuješ každý riadok Script-Fu najprv v Console a potom, keď príkazy fungujú tak ako si chcel, tak  hneď paralelne zapisuješ Script-Fu.</p>
<p><a href="http://translate.coupofy.com/wp-content/uploads/2015/05/script-fu-console.png"><img class=" size-full wp-image-820 alignnone" src="http://translate.coupofy.com/wp-content/uploads/2015/05/script-fu-console.png" alt="script-fu-console" width="501" height="503" /></a></p>
<p>Aby si tak mohol spraviť, otvor Script-Fu Console (Xtns-&gt;Script-fu-&gt;Consol). Ak je konzola otvorená, klikni na tlačidlo Browse&#8230; v dolnom ľavom rohu; toto nás dovedie k <strong>DB Browser</strong>, kde môžeš vyhľadávať funkcie, ktoré použiješ v Script-Fu. Spolu s názvom funkcie dostaneš aj popis potrebných argumentov a všeobecný popis funkcie.</p>
<p><a href="http://translate.coupofy.com/wp-content/uploads/2015/05/db-browser.png"><img class=" size-full wp-image-818 alignnone" src="http://translate.coupofy.com/wp-content/uploads/2015/05/db-browser.png" alt="db-browser" width="664" height="355" /></a></p>
<p>Teraz nastal čas, aby sme zopakovali náš prvý krok vo vytvorení obrázka, takže potrebujeme funkciu na vytvorenie nového obrázka. Väčšina funkcií, ktoré nájdeš v DB Browser majú názvy podobné k tým z menu the Gimp. Po krátkom hľadaní pre slovo &#8220;new&#8221; sme našli funkciu gimp-image-new, čo znie ako to, čo chceme nájsť. Zadáme nasledujúci výraz do konzoly:</p>
<p><em>(gimp-image-new 256 256 RGB)</em></p>
<p>a dostaneme nasledujúci výstup:</p>
<p><em>=&gt; (gimp-image-new 256 256 RGB) (3)</em></p>
<p>Prvý riadok je jednoducho len príkaz, ktorý bol vykonaný, druhý riadok je návratová hodnota funkcie. Ako sa môžeš v DB Browser dočítať, toto je ID (identifikácia) novo vytvoreného obrázka. Takže toto ID môžeš jednoducho použiť ako argument funkcií v konzole. Návratová hodnota je taktiež prvá nástraha na našej ceste za Script-Fu. Je udaná ako jeden dlhý zoznam elementov a nie ako integer hodnota! Takže na to aby sme mohli použiť túto hodnotu, musíme dostať prvý element zo zoznamu s použitím výrazu car, toto potom vráti obrázok s ID 3.</p>
<p>Teraz sa možno čuduješ, kde je ten obrázok, čo sme vytvorili, pretože ho nemôžeš vidieť. Odpoveď znie: nemáme pre neho zobrazenie a tak je obrázok iba v pamäti, takže potrebujeme pre neho vytvoriť zobrazenie. Teda skúsime (gimp-display-new 3), ale dostaneme chybu:</p>
<p><em>ERROR: Procedural database execution failed:                                                                                                              (gimp_display_new 3)</em></p>
<p>Tak toto je ďalšia nástraha. Nie všetky funkcie v Script-Fu fungujú rovnako ako ich náprotivkovia v menu. Niekedy to proste nefunguje a ty musíš si dať trochu viac námahy, aby si dosiahol želaný výsledok. Problém je v tomto prípade v tom, že náš nový obrázok neobsahuje žiadne vrstvy. Na to, aby sa obrázok mohol zobraziť, potrebujeme aspoň jednu vrstvu. Takže ďalším krokom bude vytvoriť vrstvu:</p>
<p><em>=&gt; (gimp-layer-new 3 256 256 RGB-IMAGE &#8220;foobar&#8221; 100 NORMAL-MODE)                                                         (21)</em></p>
<p>Možno si si všimol, že konštanty RGB-IMAGE a NORMAL-MODE sú napísané ako  RGB_IMAGE a NORMAL_MODE v  DB Browser (všimni si podčiarknik &#8216;_&#8217;). Musíš prepísať všetky podčiarkniky a nahradiť ich vo svete Script-Fu so znakom mínus  &#8216;-&#8216; . Ak si si nie istý, či je tvoje nahradenie správne, tak iba vlož konštantu do konzoly.</p>
<p>Ďalším krokom je pridanie novo vytvorenej vrstvy do obrázka , tak ako je popísané v DB browser:</p>
<p><em>=&gt; (gimp-image-add-layer 3 21 -1)                                                                                                                               ()</em></p>
<p>A teraz môžemee konečne zobraziť náš obrázok:</p>
<p><em>=&gt; (gimp-display-new 3) <em>                                                                                                                               </em>               (4)</em></p>
<p>Zobrazený obrázok vyzerá trochu divne, pretože je vyplnený náhodnými farbami. Na ich odstránenie vyplníme vrstvu s aktuálnou farbou pozadia (current background color).</p>
<p><em>=&gt; (gimp-drawable-fill 21 BG-IMAGE-FILL)                                                                                                                  ()</em></p>
<p>Funkcia, ktorá slúži na vyplnenie vrstvy, sa nazýva gimp-drawable-fill a nie gimp-layer-fill ako by si mohol očakávať, to preto, že vrstva je vykresliteľná (drawable). Takže ak hľadáš funkcie, ktoré manipulujú s vrstvami, mal by si hľadať aj medzi vecami, ktoré manipulujú s vykresliteľnými (drawables).</p>
<p>Takže teraz máme náš obrázok nastavený. Je to pre teba príliš rýchle? Tak potom si to zosumarizujme a napíšme našu prvú Scheme funkciu. Najprv všetko zabalíme do odseku s let* , a potom pridáme odsek s let* do tela funkcie:</p>
<p><em>(define (my-make-new-image)</em><br />
<em> (let* ((image (car (gimp-image-new 256 256 RGB)))</em><br />
<em>         (layer (car (gimp-layer-new image 256 256</em><br />
<em>                      RGB-IMAGE &#8220;foobar&#8221; 100 NORMAL-MODE))))</em><br />
<em>        (gimp-drawable-fill layer BG-IMAGE-FILL)</em><br />
<em>        (gimp-image-add-layer image layer 0)</em><br />
<em>        (gimp-display-new image</em><br />
<em> )       image))</em></p>
<p>Posledný riadok v Scheme funkcii je návratová hodnota, takže image je návratová hodnota v tejto funkcii.</p>
<p>Tak a teraz späť k našej veci s kovovým textom, teraz potrebujeme pridať textový reťazec a trochu sa sním pohrať. Trochu prehľadávania v DB nám prinesie gimp-text-fontname. Aby sme ju zavolali, misíme napísať:</p>
<p><em>=&gt; (gimp-text-fontname 3 21 -1 0 &#8220;Foobar&#8221; 0 TRUE 25 PIXELS<br />
&#8220;-freefont-blippo-heavy-r-normal-*-24-*-*-*-p-*-iso8859-1&#8243;)<br />
(33)</em></p>
<p>A voila, dostaneme náš text na novo vytvorenú vrstvu. Reťazec &#8220;-freefont-blippo-heavy-r-normal-*-24-*-*-*-p-*-iso8859-1&#8243; ti môže pripadať ako čierna mágia , ale neskôr sa pozrieme na to, ako sa dá jednoducho vytvoriť.</p>
<p>Teraz potrebujeme zduplikovať túto vrstvu. Možno si si všimol, že v DB nie je žiadna duplikovacia funkcia, takže to musíme urobiť manuálne a napísať ďalšiu Scheme funkciu:</p>
<p><em>(define (my-duplicate-layer image layer)<br />
(let* ((dup-layer (car (gimp-layer-copy layer 1))))<br />
(gimp-image-add-layer image dup-layer 0)<br />
dup-layer))<br />
</em><br />
a potom:</p>
<p><em>=&gt; (my-duplicate-layer 3 34) 41</em></p>
<p>Ďalši krok je pridanie nejakého miesta pre zväčšené hranice textu, gimp-layer-resize je naším priateľom:</p>
<p>(gimp-layer-resize 41 200 100 5 5)</p>
<p>Toto našťastie funguje, ale šírka (width) a výška (height) sú dosť ťažko kódované, takže to skúsime znova ale tentoraz viac flexibilným spôsobom:</p>
<p><em>(define (my-layer-add-border layer border)<br />
(let* ((width  (car (gimp-drawable-width  layer)))<br />
(height (car (gimp-drawable-height layer))))<br />
(gimp-layer-resize layer<br />
(+ width border) (+ height border)<br />
(/ border 2) (/ border 2))))<br />
</em><br />
Teraz potrebujeme transférovať  alpha cannel vrstiev do výberu a zväčšiť to o pár pixelov:</p>
<p><em>(gimp-selection-layer-alpha 41)<br />
(gimp-selection-grow 3 5)</em></p>
<p>Predtým než vyplníme vrstvu, musíme odstrániť zástavku &#8220;Keep trans&#8221; , ktorá spôsobuje, že všetky transparentné oblasti ostanú transparentné:</p>
<p><em>(gimp-layer-set-preserve-trans 41 0)</em></p>
<p>Tak a teraz vyplníme výber gradientom:</p>
<p><em>(gimp-blend 41 CUSTOM NORMAL LINEAR 100 0 REPEAT-NONE FALSE 0 0 0 0 30 50)</em></p>
<h2><a name="&quot;Predhovor"></a>PredhovorZapísanie Script-Fu</h2>
<p>Huh, teraz máme všetko pre naše script-fu pripravené, potrebujeme iba poskladať jednotlivé kúsky. V nasledujúcich krokoch taktiež odstránime niektoré nepotrebné akcie a pravdepodobne nejakú látku aj pridáme.</p>
<p>Ok, takže ako zapísať Script-Fu? Nuže, v podstate potrebuješ tieto tri veci. Po prvvé, súbor, do ktorého bude tvoj skript zapísaný, tento súbor by mal byť uložený v  ~/.gimp-1.1/scripts/. Po druhé, funkciu, ktorá vykoná všetku tú manipuláciu s obrázkom, a konečne po tretie potrebuješ mať volanie do script-fu-register , aby bol tvoj skript viditeľný z vnútra Gimp.</p>
<p>Takže napíšme prázdnu funkciu a registrujme ju. Mal by si skopírovať a vložiť nasledujúci kód do súboru dummy.scm a uložiť to do ~/.gimp-1.1/scripts/ ako je popísané vyššie.</p>
<p><em>(define (my-dummy-function a b)<br />
(print &#8220;Do nothing&#8221;))<br />
(script-fu-register &#8220;my-dummy-function&#8221;<br />
_&#8221;&lt;Toolbox&gt;/Xtns/Script-Fu/My Stuff/Dummy&#8230;&#8221;<br />
&#8220;Do nothing&#8221;<br />
&#8220;Joey User&#8221;<br />
&#8220;Joey User&#8221;<br />
&#8220;August 2000&#8243;<br />
&#8220;&#8221;<br />
SF-ADJUSTMENT _&#8221;Width&#8221; &#8216;(400 1 2000 1 10 0 1)<br />
SF-ADJUSTMENT _&#8221;Height&#8221; &#8216;(30 1 2000 1 10 0 1))</em></p>
<p>Ak potom stlačíš Xtns-&gt;Scritp-fu-&gt;Reload , bude tvoj skript nahraný do Gimp a mal by potom byť prístupný z menu.</p>
<p>Všimni si , že sú tu dva druhy Script-Fu. Prvý druh vytvorí nový obrázok , ktorý je použiteľný pre logá a je prístupný z menu Xtns-&gt;Scritp-fu-&gt;&#8230;, a druhý typ sa používa na manipuláciu s už existujúcim obrázkom , tento typ je prístupný cez pop-up menu z pravého kliknutia myšou na obrázok  Scritp-fu-&gt;&#8230;. Pre registráciu tohto druhého typu Script-Fu, potrebuješ napasovať cestu k  &lt;Image&gt;/Script-Fu/&#8230; a je potrebné zadať prvé dva argumenty typu SF-IMAGE a SF-DRAWABLE.</p>
<p>Toto nás privádza k nasledujúcej téme &#8211; argumenty, ktoré môže dostať tvoja funkcia , môžu byť nasledujúcich typov:</p>
<table>
<tbody>
<tr>
<td><strong>Typ argumentu</strong></td>
<td><strong>Dátový typ</strong></td>
<td><strong>Popis</strong></td>
</tr>
<tr>
<td>SF-IMAGE</td>
<td>Integer (id obrázku)</td>
<td>Použité na získanie ID obrázku</td>
</tr>
<tr>
<td>SF-DRAWABLE</td>
<td>Integer (id vykresliteľnej (drawable))</td>
<td>Použité na získanie ID vykresliteľnej (drawable)</td>
</tr>
<tr>
<td>SF-VALUE</td>
<td>String (reťazec)</td>
<td>Vstup numerickej hodnoty</td>
</tr>
<tr>
<td>SF-TOGGLE</td>
<td>Boolean (TRUE (pravda) alebo FALSE (nepravda))</td>
<td>Vstup hodnoty boolean</td>
</tr>
<tr>
<td>SF-PATTERN</td>
<td>String (názov Patternu)</td>
<td>Umožňuje ti vybrať si  pattern</td>
</tr>
<tr>
<td>SF-ADJUSTMENT</td>
<td>List (zoznam) (start-value min-value max-value small-step large-step [int=0 alebo float=1] [slider=0 alebo roll-box=1])</td>
<td>Vytvorí panel s bežcom alebo vstupný box s rozsahom hodnôt</td>
</tr>
<tr>
<td>SF-FILENAME</td>
<td>String (názov cesty)</td>
<td>Umožňuje ti hľadať súbor</td>
</tr>
<tr>
<td>SF-STRING</td>
<td>String</td>
<td>Vytvorí vstupný box</td>
</tr>
<tr>
<td>SF-FONT</td>
<td>String (názov fontu)</td>
<td>Umožní ti vybrať si font</td>
</tr>
<tr>
<td>SF-COLOR</td>
<td>List (red green blue) [0-255]</td>
<td>Umožní ti vybrať si farbu</td>
</tr>
<tr>
<td>SF-OPTION</td>
<td>List of strings (zoznam reťazcov)</td>
<td>Umožní ti vybrať si položku zo zoznamu</td>
</tr>
<tr>
<td>SF-GRADIENT</td>
<td>String (názov gradientu)</td>
<td>Umožní ti vybrať si gradient</td>
</tr>
</tbody>
</table>
<p>Nasledujúci kód vytvorí box so všetkými možnými vstupnými typmi:</p>
<p><em>(define (my-demo-box value adj1 adj2 image drawable toggle pattern string font color option gradient)  (print &#8220;Do nothing&#8221;))<br />
(script-fu-register &#8220;my-demo-box&#8221;<br />
&#8220;&lt;Toolbox&gt;/Xtns/Script-Fu/My Stuff/Demo Box&#8230;&#8221;<br />
&#8220;Do nothing&#8221;<br />
&#8220;Joe User&#8221;<br />
&#8220;Joe User&#8221;<br />
&#8220;August 2000&#8243;<br />
&#8220;&#8221;<br />
SF-ADJUSTMENT &#8220;SF-ADJUSTMENT (slider)&#8221; &#8216;( 30 1 2000 1 10 1 0)<br />
SF-ADJUSTMENT &#8220;SF-ADJUSTMENT&#8221;         &#8216;(400 1 2000 1 10 1 1)<br />
SF-COLOR      &#8220;SF-COLOR&#8221; &#8216;(255 0 255)<br />
SF-DRAWABLE   &#8220;SF-DRAWABLE&#8221; 0<br />
SF-FONT       &#8220;SF-FONT&#8221; &#8220;&#8221;<br />
SF-GRADIENT   &#8220;SF-GRADIENT&#8221;  &#8220;Golden&#8221;<br />
SF-IMAGE      &#8220;SF-IMAGE&#8221; 0<br />
SF-OPTION     &#8220;SF-OPTION&#8221; &#8216;(&#8220;Option 1&#8243; &#8220;Option 2&#8243; &#8220;Option 3&#8243;)<br />
SF-PATTERN    &#8220;SF-PATTERN&#8221; &#8220;Wood&#8221;<br />
SF-STRING     &#8220;SF-STRING&#8221; &#8220;Test String&#8221;<br />
SF-TOGGLE     &#8220;SF-TOGGLE&#8221; TRUE<br />
SF-VALUE      &#8220;SF-VALUE&#8221; &#8220;0&#8221;<br />
SF-FILENAME   &#8220;SF-FILENAME&#8221; &#8220;/&#8221;)<br />
</em><br />
Výsledný box bude vyzerať ako tento:</p>
<p><a href="http://translate.coupofy.com/wp-content/uploads/2015/05/demo-box.png"><img class=" size-full wp-image-819 alignnone" src="http://translate.coupofy.com/wp-content/uploads/2015/05/demo-box.png" alt="demo-box" width="363" height="475" /></a></p>
<p>Ale naspäť k našej robote, dokončime náš Script-Fu príklad. Mali by sme začať s aplikačným rámcom (frame work), takže sa musíme rozhodnúť, ktoré typy argumentov budeme potrebovať. Keďže chceme vytvoriť font, potrebujeme najprv text, takže použijeme SF-STRING, potom by sme mali použiť SF-FONT pre výber fontu a hneď aj SF-VALUE pre nastavenie veľkosti fontu.</p>
<p>Vytvorenie script-fu-register je ponechané na užívateľa ako cvičenie. Ak to nechceš skúsiť sám, môžeš sa pozrieť o niekoľko riadkov nižšie a tam nájdeš dokončený skript. Vysledný box by mohol vyzerať ako toto tu:</p>
<p>A teraz keďže máme volanie nášho registra nastavené, môžeme vyplniť funkciu s nejakým kódom. Najprv vložíme naše dve pomocné funkcie: my-duplicate-layer a my-layer-add-border, na vrch súboru. V ďalšom viacmenej skopírujeme a zložíme naše experimenty v Script-Fu Console dokopy. Presunieme volanie gimp-display-new na koniec našej funkcie, takže sa nemusíme pozerať na to, ako pracuje renderovanie obrázka. Taktiež pridáme inú pomocnú funkciu , ktorá oreže finálny obrázok na správny rozmer. Výsledný skript by mohol potom vyzerať nejako takto:</p>
<p><em>(define (my-image-to-layer-size image layer)<br />
(gimp-layer-set-offsets layer 0 0)<br />
(gimp-image-resize image<br />
(car (gimp-drawable-width layer))<br />
(car (gimp-drawable-height layer))<br />
0 0)) (define (my-layer-add-border layer border)<br />
(let* ((width  (car (gimp-drawable-width  layer)))<br />
(height (car (gimp-drawable-height layer))))<br />
(gimp-layer-resize layer<br />
(+ width border) (+ height border)<br />
(/ border 2) (/ border 2))))<br />
(define (my-duplicate-layer image layer)<br />
(let* ((dup-layer (car (gimp-layer-copy layer 1))))<br />
(gimp-image-add-layer image dup-layer 0)<br />
dup-layer)) (define (my-make-metal-font text font font-size)<br />
(let* ((image (car (gimp-image-new 256 256 RGB)))<br />
(bottom-font-layer (car (gimp-text-fontname image -1 0 0 text 0 TRUE font-size PIXELS<br />
font))))    (let* ((top-font-layer (my-duplicate-layer image bottom-font-layer)))<br />
(my-layer-add-border bottom-font-layer 20)<br />
(gimp-layer-set-preserve-trans bottom-font-layer 0)<br />
(gimp-gradients-set-active &#8220;Four_bars&#8221;)<br />
(gimp-selection-layer-alpha bottom-font-layer)<br />
(gimp-selection-grow image 3)<br />
(gimp-blend bottom-font-layer CUSTOM NORMAL LINEAR 100 0 REPEAT-NONE FALSE 0 0 0 0 200 50)<br />
(gimp-selection-layer-alpha top-font-layer)<br />
(gimp-blend top-font-layer    CUSTOM NORMAL LINEAR 100 0 REPEAT-NONE FALSE 0 0 0 50 200 0)<br />
(gimp-selection-clear image)<br />
(let* ((new-layer (car (gimp-image-merge-visible-layers<br />
image EXPAND-AS-NECESSARY))))<br />
(my-image-to-layer-size image new-layer))<br />
(gimp-display-new image))   ))<br />
(script-fu-register &#8220;my-make-metal-font&#8221;<br />
&#8220;&lt;Toolbox&gt;/Xtns/Script-Fu/Logos/Metal Font&#8230;&#8221;<br />
&#8220;Create an example image of a custom gradient&#8221;<br />
&#8220;Federico Mena Quintero&#8221;<br />
&#8220;Federico Mena Quintero&#8221;<br />
&#8220;June 1997&#8243;<br />
&#8220;&#8221;<br />
SF-STRING     &#8220;Text&#8221; &#8220;The GIMP&#8221;<br />
SF-FONT       &#8220;Font&#8221; &#8220;-*-blippo-*-r-*-*-24-*-*-*-p-*-*-*&#8221;<br />
SF-VALUE      &#8220;Font Size&#8221; &#8220;50&#8221; )</em></p>
<h2><a name="Bežné nástrahy"></a>Bežné nástrahy</h2>
<p>Nasleduje zoznam bežných nástrah v Script-Fu.</p>
<h3>Návratové hodnoty (Return Values)</h3>
<p>Ak funkcia vracia hodnotu, táto bude vždy zabalená v zozname; nezáleží na tom, či je to iba jediná hodnota alebo viacnásobná hodnota. Dokonca aj keď návratová hodnota ja samotný zoznam , ako napríklad farba , ktorá je navrátená cez gimp-color-picker, návratová hodnota bude vždy extra zabalená v zozname.</p>
<p>Ak sú navrátené viacnásobné hodnoty, tak aj tie sú v zozname , prvá návratová hodnota je prvým elementom v zozname , druhá návratová hodnota je druhým elementom v zozańame , atď. Takže musíš vždy aplikovať volanie car aby si dostal hodnotu, ktorú potrebuješ.</p>
<h3>Dodržanie R5SR</h3>
<p><a href="http://www.schemers.org/Documents/Standards/R5RS/">R5SR</a> je dokument, ktorý popisuje Scheme jazyk, ale nanešťastie jazyk, ktorý je použitý v Gimp, nie je ani z ďaleka zhodný s R5SR . To pretože Gimp používa SIOD ako svojho Scheme interpreta. SIOD je malá Scheme implementácia , a cenou za to je, že poskytuje iba malú podskupinu R5SR funkcií; a dokonca aj niektoré názvy funkcií boli zmenené. Napríklad tu nie je funkcia display, ale iba funkcia nazývaná print. Pre sumarizáciu Scheme funkcií podporovaných v Gimp sa môžeš pozrieť na web stránku <a href="http://people.delphi.com/gjc/siod.html">SIOD</a>. A aby to bolo ešte horšie, The Gimp dokonca ani neposkytuje všetky tie funkcie, ktoré sú uvedené na stránke SIOD , ale je to dobrý štartovací bod. Môžeš taktiež použiť funkciu apropos v konzole, ktorá ti pomôže vyhľadať špecifickú funkciu:</p>
<p><em>=&gt; (apropos &#8220;write&#8221;) (fwrite writes swrite write-mask stroke-overwrite)</em></p>
<h2><a name="&quot;Predhovor"></a>PredhovorVyladenie (debugging)</h2>
<p>Keď sa už začneš hrať so Script-Fu, a dokonca aj keď už budeš s ním spriaznený, tak aj napriek tomu sa veľmi často dostaneš do situácie, kedy tvoj skript nebude fungovať. A aby to bolo ešte horšie, tak niekedy nedostaneš ani len chybové hlásenie. Väčšinu času bude príčina úplne jednoduchá ale jej dohľadanie bude dosť zložité. Nasledujúce kroky ti môžu pomôcť urobiť toto dohľadanie ľahším.</p>
<p>Najprv prever , či tvoj skript je syntakticky správny; to znamená, že si uzatvoril všetky otvorené zátvorky a úvodzovky. Editor s vysvietením syntaxu , automatickým odsadením a vysvietením zátvoriek ti pomôže splniť túto podmienku.</p>
<p>Po druhé, môžno že si zabudol pridať výraz car ku niektorým návratovým hodnotám. Na preskúšanie týchto chýb skopíruj a vlož tvoj kód do Script-Fu Console a vyvolaj ho manuálne.</p>
<p>ERROR: Invalid types specified for arguments(Chyba: Chybné typy špecifikované pre argumenty)</p>
<p>Táto chyba uvedená vyššie, je asi tá najčastejšia chyba akú môžeš dostať. Ak dostaneš iné chybové hlásenie, tak tvoja chyba sa može nachádzať hocikde inde.</p>
<p>Ak voláš funkciu, a máš tam príliš málo alebo príliš veľa argumentov, dostaneš nasledujúce chybové hlásenie:</p>
<p><em>=&gt; (gimp-image-get-layers)ERROR: too few arguments (see errobj)</em></p>
<p>Potom sa len jednoducho pozri na errobj: ono ti to povie, ktoré argumenty sa očakávajú a ktoré si zadal.</p>
<p><em>=&gt; (print errobj) ((image))()</em></p>
<p>Nakonie ak tvoja funkcia stále ešte nebude fungovať, pridaj zopár volaní print na správne miesta aby si mohol vyzistiť, čo všetko funguje správne. Aby si mohol vidieť výstupy z volaní printov , musiš spustiť tvoje Script-Fu v konzole.</p>
<h2><a name="&quot;Predhovor"></a>PredhovorVeci, ktoré nemôžeš v Script-Fu urobiť</h2>
<p>Doteraz som len popisoval veci, ktoré sa dajú so Script-Fu urobiť, ale je tu aj mnoho vecí, ktoré sa v Script-Fu urobiť nedajú.</p>
<p>Prvá vec, ktorú by si možno chcel urobiť, je stanoviť nejaké lepšie predvolené hodnoty pre argument, ktorý tvoja funkcia dostane. Zlá správa je tá, že toto nemôžeš spraviť. Môžeš zadávať iba konštantné hodnoty do volania Script-Fu registra. Takže ak napríklad tvoja predvolená hodnota by mala mať polovičnú šírku obrázku, tak toto jednoducho nemôžeš spraviť, musíš sa naučiť žiť s konštantnou hodnotou.</p>
<p>Ďalšia vec, ktorú by si možno chcel mať, je nejaký druh GUI ktorý ide až za vec, ktorá je poskytovaná cez SF-* hodnoty; a znova: toto nemôžeš urobiť. SF-* hodnoty, ktoré môžeš očakávať od Script-Fu, sú všetky gui. Ak by si chcel nejakú viac komplikovanejšiu vec, ako napr. okno náhľadu , musíš napísať skutočný Gimp Plug-in.</p>
<p>V určitom bode by si možno chcel napísať svoj vlastný filter alebo efekt, čo si vyžaduje manipuláciu s obrázkom na úrovni pixelov. Toto je vec , ktorú môžeš v Script-Fu urobiť. Ale bude to extrémne pomalé, vzhľadom na povahu Script-Fu interpreta. Takže ešte raz, je lepšie toto napísať ako skutočný Gimp Plug-in.</p>
<p>Možno by si tiež chcel otvoriť zložku a otvoriť všetky tie obrázky, ktoré sa v nej nachádzajú. Ale ani toto nie je možné. SIOD web stránka popisuje funkciu opendir , ale ak ju vyskúšaš v Script-Fu , tak táto nebude fungovať, rovnako ako mnoho iných SIOD funkcií.</p>
<p><em>=&gt; (opendir &#8220;/&#8221;)<br />
ERROR: unbound variable (errobj opendir)</em></p>
<p>Aby si toto mohol vyriešiť, musíš trochu popracovať – skopíruj obsah zložky do jediného súboru a tento súbor potom prečítaj , alebo môžeš napísať Perl-Fu, Python-Fu alebo Gimp Plug-in.</p>
<p>Existuje projekt nazvaný <a href="http://anoncvs.jp.gnome.org/index.cgi/gimp-plugins-unstable/gimple/">gimple</a> v archíve Gnome CVS , ktorý dokáže vyriešiť niektoré z týchto záležitostí. Gimple je Guile rozhranie pre Gimp. Bude mať oveľa lepšie dodržanie R5SR ako  SIOD a bude pravdepodobne schopné volať call guile-gtk, ktoré umožní vytvorenie oveľa viac flexibilnejších gui rozhraní, ale momentálne neviem, v akom štádiu sa tento projekt nachádza a ešte som to nikdy nevidel v akcii.</p>
<h2><a name="Príklady"></a>Príklady</h2>
<p>Býva vždy dobrým nápadom pozrieť sa na cudzie Script-Fu aby sa človek mohol čo to priučiť. Viacero Script-Fu sa dá napríklad nájsť v priečinku Gimp /usr/share/gimp/1.1/scripts/. Na web stránke <a href="http://www.gimp.org/">Gimp</a> je viacero odkazov na rôzne príklady. Ja som taktiež nahral moje Script-Fu, môžeš ich nájsť <a href="http://pingus.seul.org/~grumbel/gimp/script-fu/scripts/">tuto</a>, ale maj sa na pozore, väčšina z nich nie je zdokumentovaná a niektoré nemusia vôbec pracovať.</p>
<h2><a name="Odkazy"></a>Odkazy</h2>
<ul>
<li><a href="http://people.delphi.com/gjc/siod.html">SIOD</a></li>
<li><a href="http://www.scheme.com/tspl2d/index.html">Scheme jazyk, Druhé vydanie</a></li>
<li><a href="http://www.cs.rice.edu/CS/PLT/Teaching/Lectures/Released/Book/">Ako nadizajnovať programy</a></li>
<li><a href="http://www.gimp.org/">The Gimp</a></li>
</ul>
<ul>
<li><a href="http://lithwww.epfl.ch/teaching/rdf/support99/SchemeTut.html">Script-Fu &amp; Scheme</a></li>
<li><a href="http://gum.gnome.gr.jp/write-scriptfu.html">Script-Fu (japanese)</a></li>
<li><a href="http://www.xcf.berkeley.edu/~gimp/script-fu/script-fu.html">Script-Fu (GIMP)</a></li>
<li><a href="http://www.script-fu.org/">Script-Fu.org</a></li>
<li><a href="http://www.ee.byu.edu/support/gimp/write_scriptfu.html">GUM &#8211; Písanie Script-Fu</a></li>
<li><a href="http://w3.man.torun.pl/~makler/help/script-fu-tutorial/">Škola čierneho pásu ScriptFu od Mika Terryho</a></li>
</ul>
<h2><a name="Protokol zmien"></a>Protokol zmien</h2>
<p><em><em>$Log: script-fu-tut.html,v $<br />
</em>Revízia 1.12  2002/02/21 10:46:10  ingo</em><br />
<em> Opravený nejaký ten pravopis</em></p>
<p><em>Revízia 1.11  2002/01/23 18:18:39  ingo</em><br />
<em> Bol aplikovaný OSHIRO Naoki&#8217;s typo patch</em></p>
<p><em>Revízia 1.10  2001/11/19 21:33:20  ingo</em><br />
<em> *** prázdna spáva protokolu ***</em></p>
<p><em>Revízia 1.9  2001/11/19 21:30:09  ingo</em><br />
<em> Pridaný link na francúzsku verziu</em></p>
<p><em>Revízia 1.8  2001/01/24 21:13:26  ingo</em><br />
<em> Pridaný link na japonský preklad</em></p>
<p><em>Revízia 1.7  2000/08/15 23:57:21  ingo</em><br />
<em> Pridaných zopár príkladov</em></p>
<p><em>Revízia 1.6  2000/08/15 16:13:22  ingo</em><br />
<em> Pridaný popis SF-FILENAME</em></p>
<p><em>Revízia 1.5  2000/08/15 16:06:41  ingo</em><br />
<em> * Zopár viet o vyladení s (print &#8230;)</em><br />
<em> * Protokol zmien presunutý na spodok stránky</em></p>
<p><em>Revízia 1.4  2000/08/15 10:24:39  ingo</em><br />
<em> Pridané nejaké info o veciach, ktoré nemôžeš v Script-Fu robiť</em></p>
<p>Copyright (c) 2000 Ingo Ruhnke &lt;<a href="mailto:grumbel@gmx.de">grumbel@gmx.de</a>&gt;</p>
<p>Povolenie je udelené na kopírovanie, distribuovanie a / alebo modifikovanie tohto dokumentu podľa pravidiel <a href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</a>, Verzia 1.1 alebo akákoľvek neskoršia je publikovaná cez Free Software Foundation.</p>
			</div><!-- .entry-content -->
</article><!-- #post-## -->

				<nav class="navigation post-navigation" role="navigation">
		<h1 class="screen-reader-text">Post navigation</h1>
		<div class="nav-links">
			<div class="nav-previous"><a href="http://translate.coupofy.com/apoe-4-the-clue-to-why-low-fat-diet-and-statins-may-cause-alzheimers/" rel="prev"><span class="meta-nav">&larr;</span>&nbsp;APOE-4: почему диеты с низким содержанием жиров и статины могут стать причиной болезни Альцгеймера</a></div>		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	
			
		
		</main><!-- #main -->
	</div><!-- #primary -->


<div id="secondary" class="widget-area" role="complementary">
	<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="http://translate.coupofy.com/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" title="Search for:" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside>		<aside id="recent-posts-3" class="widget widget_recent_entries">		<h2 class="widget-title">Latest Translations</h2>		<ul>
					<li>
				<a href="http://translate.coupofy.com/script-fu-seminar/">Script-fu Seminár</a>
						</li>
					<li>
				<a href="http://translate.coupofy.com/apoe-4-the-clue-to-why-low-fat-diet-and-statins-may-cause-alzheimers/">APOE-4: почему диеты с низким содержанием жиров и статины могут стать причиной болезни Альцгеймера</a>
						</li>
					<li>
				<a href="http://translate.coupofy.com/alternative-browser-alliance/">Aliancia alternatívnych prehliadačov</a>
						</li>
					<li>
				<a href="http://translate.coupofy.com/noels-nuggets/">Noelove Nugetky &#8211; na stiahnutie</a>
						</li>
					<li>
				<a href="http://translate.coupofy.com/snoop-for-ms-windows/">Snoop (slídil) pro MS Windows</a>
						</li>
					<li>
				<a href="http://translate.coupofy.com/parallel-virtual-machine/">Parallel Virtual Machine</a>
						</li>
				</ul>
		</aside></div><!-- #secondary -->

	</div><!-- #content -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		
		
		<div class="wrap-site-info clear">
			<div class="site-info clear">
				<div class="theme-info">
					<p>
						All Rights Reserved - Potential Asia											</p>
				</div>
				<div class="footer-menu">
					<div class="f-menu nav-menu clear"><ul><li ><a href="http://translate.coupofy.com/">Home</a></li></ul></div>
				</div><!-- .footer-menu -->
			</div><!-- .wrap-site-info -->
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

<script type='text/javascript' src='http://translate.coupofy.com/wp-content/themes/wimple/js/navigation.js?ver=20120206'></script>
<script type='text/javascript' src='http://translate.coupofy.com/wp-content/themes/wimple/js/skip-link-focus-fix.js?ver=20130115'></script>

</body>
</html>
